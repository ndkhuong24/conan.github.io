<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conan</title>
</head>

<body>
    <div id="image-container"></div>

    <script>
        const images = [];

        for (let i = 1; i <= 496; i++) {
            images.push({
                src: `Conan (1)/Tap (${i}).jpg`,
                alt: `Hình ảnh ${i}`,
            });
        }

        for (const image of images) {
            image.src = image.src.replace(".jpg", ".webp");
        }



        const imageContainer = document.getElementById("image-container");

        const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    const image = document.createElement("img");
                    image.src = entry.target.dataset.src;
                    image.alt = entry.target.dataset.alt;
                    imageContainer.appendChild(image);
                    observer.unobserve(entry.target);
                }
            });
        }, {
            threshold: 0.5,
        });

        const sprite = document.createElement("img");
        sprite.src = "Conan-sprite.jpg";
        imageContainer.appendChild(sprite);

        images.forEach((image) => {
            const imgElement = document.createElement("div");
            imgElement.dataset.src = image.src;
            imgElement.dataset.alt = image.alt;
            observer.observe(imgElement);
            imageContainer.appendChild(imgElement);
        });
    </script>
</body>

</html>